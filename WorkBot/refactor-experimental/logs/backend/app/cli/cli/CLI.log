2025-09-16 08:48:56,181 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-16 08:48:56,188 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-16 08:48:56,188 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-16 08:48:56,188 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-16 08:49:12,051 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-16 08:49:35,125 - ERROR - backend.app.cli.cli.CLI - (cli.py:426) - [Error] download_orders failed: 'OrderFilenameStrategy' object has no attribute 'base_dir'
Traceback (most recent call last):
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\cli.py", line 420, in _dispatch_command
    self.commands[command](args) if args else self.commands[command]()
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\workbot_cli.py", line 48, in cmd_download_orders
    self.workbot.download_craftable_orders(parsed_args.stores, parsed_args.vendors)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\workbot\work_bot.py", line 100, in download_craftable_orders
    self.craft_bot.download_orders(stores, vendors, download_pdf=download_pdf, update=update)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\bot_mixins.py", line 95, in wrapper
    return func(self, *args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\infra\logger.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 276, in download_orders
    self._process_order_row(store, stale_reference_table_rows[pos], vendors, download_pdf, update)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 313, in _process_order_row
    if update and self._update_existing_order(order_to_check_update):
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 1034, in _update_existing_order
    return self.orders.check_and_update_order(order)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\application\orders.py", line 143, in __call__
    fp = self.files.get_file_path(order)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\order_file_adapter.py", line 27, in get_file_path
    return self._engine.path_for(obj, format=fmt)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\generic_file_adapter.py", line 26, in path_for
    base = self.directory()
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\generic_file_adapter.py", line 21, in directory
    base = self.namer.base_dir()
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'OrderFilenameStrategy' object has no attribute 'base_dir'
2025-09-20 12:44:20,672 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-20 12:44:20,691 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-20 12:44:20,691 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-20 12:44:20,691 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-20 12:44:47,925 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-20 12:45:11,969 - ERROR - backend.app.cli.cli.CLI - (cli.py:426) - [Error] download_orders failed: 'OrderFilenameStrategy' object has no attribute 'base_dir'
Traceback (most recent call last):
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\cli.py", line 420, in _dispatch_command
    self.commands[command](args) if args else self.commands[command]()
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\workbot_cli.py", line 48, in cmd_download_orders
    self.workbot.download_craftable_orders(parsed_args.stores, parsed_args.vendors)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\workbot\work_bot.py", line 100, in download_craftable_orders
    self.craft_bot.download_orders(stores, vendors, download_pdf=download_pdf, update=update)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\bot_mixins.py", line 95, in wrapper
    return func(self, *args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\infra\logger.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 276, in download_orders
    self._process_order_row(store, stale_reference_table_rows[pos], vendors, download_pdf, update)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 313, in _process_order_row
    if update and self._update_existing_order(order_to_check_update):
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 1034, in _update_existing_order
    return self.orders.check_and_update_order(order)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\application\orders.py", line 142, in __call__
    fp = self.files.get_file_path(order)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\order_file_adapter.py", line 27, in get_file_path
    return self._engine.path_for(obj, format=fmt)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\generic_file_adapter.py", line 26, in path_for
    base = self.directory()
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\generic_file_adapter.py", line 21, in directory
    base = self.namer.base_dir()
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'OrderFilenameStrategy' object has no attribute 'base_dir'
2025-09-21 13:06:19,877 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-21 13:06:19,896 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-21 13:06:19,896 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-21 13:06:19,896 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-21 13:06:26,420 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-21 13:06:51,422 - ERROR - backend.app.cli.cli.CLI - (cli.py:426) - [Error] download_orders failed: 'OrderSerializer' object has no attribute 'dumps'
Traceback (most recent call last):
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\cli.py", line 420, in _dispatch_command
    self.commands[command](args) if args else self.commands[command]()
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\cli\workbot_cli.py", line 48, in cmd_download_orders
    self.workbot.download_craftable_orders(parsed_args.stores, parsed_args.vendors)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\workbot\work_bot.py", line 100, in download_craftable_orders
    self.craft_bot.download_orders(stores, vendors, download_pdf=download_pdf, update=update)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\bot_mixins.py", line 95, in wrapper
    return func(self, *args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\infra\logger.py", line 105, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 276, in download_orders
    self._process_order_row(store, stale_reference_table_rows[pos], vendors, download_pdf, update)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\bots\craftable_bot\craftable_bot.py", line 321, in _process_order_row
    self.orders.save_order_to_file(order_to_save)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\app\application\orders.py", line 99, in __call__
    self.files.save(order, format)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\order_file_adapter.py", line 40, in save
    return self._engine.save(obj, format=fmt, overwrite=True)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\backend\adapters\files\generic_file_adapter.py", line 40, in save
    data = self.serializer.dumps(obj, format=format)
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OrderSerializer' object has no attribute 'dumps'
2025-09-21 13:23:11,668 - INFO - backend.app.cli.cli.CLI - (cli.py:347) - CLI interrupted by user (Ctrl+C / EOF).
2025-09-21 13:23:11,671 - INFO - backend.app.cli.cli.CLI - (cli.py:390) - Exiting CLI and saving history.
2025-09-21 13:43:13,833 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-21 13:43:13,840 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-21 13:43:13,840 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-21 13:43:13,840 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-21 13:43:16,393 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-21 13:45:02,330 - INFO - backend.app.cli.cli.CLI - (cli.py:421) - Command 'download_orders' executed successfully.
2025-09-21 13:59:07,655 - INFO - backend.app.cli.cli.CLI - (cli.py:347) - CLI interrupted by user (Ctrl+C / EOF).
2025-09-21 13:59:07,659 - INFO - backend.app.cli.cli.CLI - (cli.py:390) - Exiting CLI and saving history.
2025-09-21 13:59:17,165 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-21 13:59:17,173 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-21 13:59:17,173 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-21 13:59:17,173 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-21 13:59:18,762 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-21 14:01:05,373 - INFO - backend.app.cli.cli.CLI - (cli.py:421) - Command 'download_orders' executed successfully.
2025-09-21 14:06:33,899 - INFO - backend.app.cli.cli.CLI - (cli.py:347) - CLI interrupted by user (Ctrl+C / EOF).
2025-09-21 14:06:33,901 - INFO - backend.app.cli.cli.CLI - (cli.py:390) - Exiting CLI and saving history.
2025-09-21 14:06:44,371 - INFO - backend.app.cli.cli.CLI - (cli.py:40) - Initializing CLI.
2025-09-21 14:06:44,380 - INFO - backend.app.cli.cli.CLI - (cli.py:95) - Loaded command history from C:\Users\andrew\Desktop\Andrew\Projects\IthacaBakery\RandomStuff\WorkBot\refactor-experimental\data\cli\.cli_history
2025-09-21 14:06:44,380 - INFO - backend.app.cli.cli.CLI - (cli.py:48) - CLI initialized successfully with 23 commands.
2025-09-21 14:06:44,380 - INFO - backend.app.cli.cli.CLI - (cli.py:321) - CLI session started.
2025-09-21 14:06:46,719 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: download_orders (args=['--stores', 'Bakery'])
2025-09-21 14:08:29,082 - INFO - backend.app.cli.cli.CLI - (cli.py:421) - Command 'download_orders' executed successfully.
2025-09-21 14:40:06,087 - INFO - backend.app.cli.cli.CLI - (cli.py:419) - Dispatching command: generate_vendor_upload_files (args=['--stores', 'Bakery', '--vendors', 'Sysco', 'Performance Food', 'US Foods', 'UNFI'])
2025-09-21 14:40:06,090 - INFO - backend.app.cli.cli.CLI - (cli.py:421) - Command 'generate_vendor_upload_files' executed successfully.
2025-09-21 15:09:31,847 - INFO - backend.app.cli.cli.CLI - (cli.py:341) - User requested CLI shutdown.
2025-09-21 15:09:31,849 - INFO - backend.app.cli.cli.CLI - (cli.py:390) - Exiting CLI and saving history.
